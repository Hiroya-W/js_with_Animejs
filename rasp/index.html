<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>ANIME.JS ANIMATION</title>
        <script src="anime.min.js"></script>
        <script src="jquery-3.3.1.min.js"></script>

        <link href="https://fonts.googleapis.com/css?family=M+PLUS+Rounded+1c" rel="stylesheet">
        <style>
        /*********************************************************/
            /* 色 */
            /* 背景色 */
            .bgcolor-bg     { background-color: #303030 }
            /* 汎用 */
            .bgcolor-white  { background-color: white   }
            .bgcolor-black  { background-color: black   }
            .bgcolor-red    { background-color: #FF1461; }   
            .bgcolor-turquoise  { background-color: #5EF3FB }     
            .bgcolor-purple { background-color: #8453E3 }
            .bgcolor-citrus { background-color: #A6FF8F }  

            /* 花火用 */
            .fworkcolor1{ background-color: #FF1461; }
            .fworkcolor2{ background-color: #18FF92; }
            .fworkcolor3{ background-color: #5A87FF; }
            .fworkcolor4{ background-color: #FBF38C; }

        /**********************************************************/

        /**********************************************************/
            body{
                /*縦・横、両方のスクロールバーを非表示にする場合：*/
                overflow:hidden;
                margin: 0;

                opacity: 0;
                /* font-family: Helvetica Neue, Helvetica, Arial, sans-serif; */
                -webkit-font-smoothing: antialiased;
            }

            /* 準備ができれば透明度を1にする */
            body.ready{
               opacity: 1;
            }

            /* フォント */
            .fontmplus { 
                /* font-family: 'M PLUS 1p', sans-serif; */
                /* font-family: "Kokoro", cursive; */
                font-family: 'M PLUS Rounded 1c', sans-serif;
                
            }

            /* 重なり修正用 */
            .z-2{
                z-index: 2;
            }
            .z-3{
                z-index: 3;
            }
        /************************************************************/

        /************************************************************/
            /* 描画エリア確認用 */
            .background-area{
                position: absolute;
                top:1px;
                width: 1024px;
                height: 600px;
            }
            
            /* グリッド作成用 */
            .gridlinever{
                width:2px;
                height:600px;
            }

            .gridlinehor{
                width:1024px;
                height:2px;
            }

            .ver1{
                position: absolute;
                left:100px;
            }
            .ver2{
                position: absolute;
                left:200px;
            }
            .ver3{
                position: absolute;
                left:300px;
            }
            .ver4{
                position: absolute;
                left:400px;
            }
            .ver5{
                position: absolute;
                left:500px;
            }
            .ver6{
                position: absolute;
                left:600px;
            }
            .ver7{
                position: absolute;
                left:700px;
            }
            .ver8{
                position: absolute;
                left:800px;
            }
            .ver9{
                position: absolute;
                left:900px;
            }
            .ver10{
                position: absolute;
                left:1000px;
            }
            .hor1{
                position: absolute;
                top:100px;
            }
            .hor2{
                position: absolute;
                top:200px;
            }
            .hor3{
                position: absolute;
                top:300px;
            }
            .hor4{
                position: absolute;
                top:400px;
            }
            .hor5{
                position: absolute;
                top:500px;
            }
            .hor6{
                position: absolute;
                top:600px;
            }
            
        /************************************************************/

        /************************************************************/
            /* テキスト表示用 */
            /* span設定 */
            span{
                margin:0;
                padding:0;
            }

            /* テキスト表示用設定 */
            .anime{
                display:inline-block;
            }

            /* おめでとうございます */
            div.animeText1{
                position: absolute; top:100px; left: 212px;
                margin:0;
                font-size:50px;
                /*color: white;*/
                color: black;
            }

            /* メダルをゲットしました */
            div.animeText2{
                position: absolute; top:100px; left: 212px;
                margin:0;
                font-size:50px;
                /*color: white;*/
                color: black;
            }

            /* テキスト隠しライン */
            .TextLine{
                width:75px;
                height:75px;

                top: 90px;
                bottom: 0;
                left:600px;
                right: 0;
                position: absolute;
            }

        /**************************************************************/

        /************************************************************/
            /* カラフルな花火 */
            .fworkcircle{
                width: 50px;
                height: 50px;
                border-radius: 50%;
                /* 中央寄せ */                
                top: 0;
                bottom: 0;
                left: 0;
                right: 0;
                position: absolute;
                margin: auto;
                z-index: 2;
            }
            
            /* 波紋 */
            .fring{
                width: 50px;
                height: 50px;
                border-radius: 50%;
                /* 中央寄せ */                
                top: 0;
                bottom: 0;
                left: 0;
                right: 0;
                position: absolute;
                margin: auto;
            }

            /* しずく */
            .drop{
                width: 50px;
                height: 50px;
                border-radius: 50%;
                /* 中央寄せ */                
                top: 0;
                bottom: 0;
                left: 0;
                right: 0;
                position: absolute;
                margin: auto;
            }
        /************************************************************/

        /************************************************************/
            /* 間奏アニメーション */
            /* 中心の円 */
            .centercircle1{
                width: 50px;
                height: 50px;
                border-radius: 50%;
                /* 中央寄せ */                
                top: 0;
                bottom: 0;
                left: 0;
                right: 0;
                position: absolute;
                margin: auto;
            }

            .centercircle2{
                width:10px;
                height:10px;
                border-radius:50%;
              
                top: 0;
                bottom: 0;
                left: 0;
                right: 0;
                position: absolute;
                margin: auto;
            }

            /* 中心から出てくるライン */
            .line1{
                width:10px;
                height:15px;
               
                top: 0;
                bottom: 0;
                left:-150px;
                right: 0;
                position: absolute;
                margin: auto;    
            }
            .line2{
                width:10px;
                height:15px;

                top: 0;
                bottom: 0;
                left:155px;
                right: 0;
                position: absolute;
                margin: auto;    
            }
            
            /* 中心から出てくる三角形 */
            .triangle1{
                border-top: 50px solid transparent;
                border-bottom: 50px solid transparent;
                border-left: 50px solid #6aa7cd;
                position: absolute; top: 250px; left: 258px;
                transform-origin: 252px 50%;
            }

            .triangle2{
                border-top: 50px solid transparent;
                border-bottom: 50px solid transparent;
                border-left: 50px solid#f6da69;
                position: absolute; top: 250px; left: 258px;
                transform-origin: 252px 50%; 
            }

            /* サイドにあるライン */
            .sideline1{
                width:50px;
                height:700px;
                /* left 200*/
                position: absolute; top: -700px; left:100px;
            }

            .sideline2{
                width:50px;
                height:700px;
                position: absolute; top: -700px; right:100px;
            }

            /* パスアニメ */
            .pathanime{
                position: absolute;
            }
        /************************************************************/

        </style>
    </head>
    <body class="bgcolor-bg">
    <!--************************************************************-->       
        <svg class="pathanime z-2" xmlns="http://www.w3.org/2000/svg" width="1024" height="600" viewBox="0 0 1024 600" version="1.1">
            <g fill="none" stroke-width="5">
                <!--    CX,CY 円の中心　rx,xy　円の半径
                        CX 512 CY 300
                        M (CX - rx) CY
                        A rx ry 0 1 0 (CX + rx) CY
                        A rx ry 0 1 0 (CX - rx) CY                  

                        <path id="a" stroke="#3cf" d="M460,590 A500,500 0,1,0 1460,590"/>
                        <path id="b" stroke="#3cf" d="M1460,590 A500,500 0,1,0 460,590"/>                                                                                        
                        <path id="c" stroke="#3cf" d="M460,590 L1460,590"/> 
                        <circle id="c" cx="960" cy="590" r="500" stroke="#FED28B"/>-->
                <path id="downcircle"   stroke="#3cf" d="M262,300 A250,250 0,1,0 762,300"/>
                <path id="upcircle" stroke="#3cf" d="M762,300 A250,250 0,1,0 262,300"/>
            </g>
        </svg>
    <!--************************************************************-->        

    <!--************************************************************-->        
    <!-- グリッド -->    
        <div class="background-area bgcolor-bg"></div>
        <div class="gridlinever ver1 bgcolor-black"></div>
        <div class="gridlinever ver2 bgcolor-black"></div>
        <div class="gridlinever ver3 bgcolor-black"></div>
        <div class="gridlinever ver4 bgcolor-black"></div>
        <div class="gridlinever ver5 bgcolor-black"></div>
        <div class="gridlinever ver6 bgcolor-black"></div>
        <div class="gridlinever ver7 bgcolor-black"></div>
        <div class="gridlinever ver8 bgcolor-black"></div>
        <div class="gridlinever ver9 bgcolor-black"></div>
        <div class="gridlinever ver10 bgcolor-black"></div>
        <div class="gridlinehor hor1 bgcolor-black"></div>
        <div class="gridlinehor hor2 bgcolor-black"></div>
        <div class="gridlinehor hor3 bgcolor-black"></div>
        <div class="gridlinehor hor4 bgcolor-black"></div>
        <div class="gridlinehor hor5 bgcolor-black"></div>
        <div class="gridlinehor hor6 bgcolor-black"></div>
    <!--************************************************************-->

    <!--************************************************************-->
    <!-- テキストアニメーション -->
        <div class="animeText1 fontmplus z-2" id="Text1">おめでとうございます！！</div>      
        <div class="animeText2 fontmplus z-3" id="Text2">メダルをゲットしました！！</div> 
    <!--************************************************************-->

    <!--************************************************************-->
    <!-- 花火 -->
        <div class="fireworks">
            <div class="fworkcircle fworkcolor1"></div>
            <div class="fworkcircle fworkcolor1"></div>
            <div class="fworkcircle fworkcolor1"></div>
            <div class="fworkcircle fworkcolor1"></div>
            <div class="fworkcircle fworkcolor1"></div>
            <div class="fworkcircle fworkcolor1"></div>
            <div class="fworkcircle fworkcolor1"></div>
            <div class="fworkcircle fworkcolor1"></div>
            <div class="fworkcircle fworkcolor1"></div>
            <div class="fworkcircle fworkcolor1"></div>
            <div class="fworkcircle fworkcolor2"></div>
            <div class="fworkcircle fworkcolor2"></div>
            <div class="fworkcircle fworkcolor2"></div>
            <div class="fworkcircle fworkcolor2"></div>
            <div class="fworkcircle fworkcolor2"></div>
            <div class="fworkcircle fworkcolor2"></div>
            <div class="fworkcircle fworkcolor2"></div>
            <div class="fworkcircle fworkcolor2"></div>
            <div class="fworkcircle fworkcolor2"></div>
            <div class="fworkcircle fworkcolor2"></div>
            <div class="fworkcircle fworkcolor3"></div>
            <div class="fworkcircle fworkcolor3"></div>
            <div class="fworkcircle fworkcolor3"></div>
            <div class="fworkcircle fworkcolor3"></div>
            <div class="fworkcircle fworkcolor3"></div>
            <div class="fworkcircle fworkcolor3"></div>
            <div class="fworkcircle fworkcolor3"></div>            
            <div class="fworkcircle fworkcolor3"></div>
            <div class="fworkcircle fworkcolor3"></div>
            <div class="fworkcircle fworkcolor3"></div>
            <div class="fworkcircle fworkcolor4"></div>
            <div class="fworkcircle fworkcolor4"></div>
            <div class="fworkcircle fworkcolor4"></div>
            <div class="fworkcircle fworkcolor4"></div>
            <div class="fworkcircle fworkcolor4"></div>
            <div class="fworkcircle fworkcolor4"></div>
            <div class="fworkcircle fworkcolor4"></div>
            <div class="fworkcircle fworkcolor4"></div>
            <div class="fworkcircle fworkcolor4"></div>
            <div class="fworkcircle fworkcolor4"></div>
            <div id="fring1" class="fring bgcolor-white"></div>
            <div id="fring2" class="fring bgcolor-bg"></div>
            <div class="TextLine bgcolor-white z-2"></div>
            <div id="drop1" class="drop bgcolor-turquoise"></div>
            <div id="drop2" class="drop bgcolor-turquoise"></div>
        </div>
    <!--************************************************************-->

    <!--************************************************************-->
        <!-- 間奏アニメーション -->
        <div class="centercircle1 bgcolor-purple z-3"></div>
        <div class="centercircle2 bgcolor-citrus z-3"></div>
        <div class="line1 bgcolor-purple z-2"></div>
        <div class="line2 bgcolor-purple z-2"></div>
        <div class="triangle1 z-2"></div>
        <div class="triangle2 z-2"></div>
        <div class="sideline1 bgcolor-red"></div>
        <div class="sideline2 bgcolor-red"></div>
    <!--************************************************************-->
        <script>
            /* 花火アニメーションの時間 */
            var firetime = 3000;
        /*************************************************************/
            var Animation = (function() {
                /* タイムライン */
                /* 花火 */
                var Fireworks = anime.timeline({autoplay: false});

                /* 間奏 */
                var AnimeTimeLine = anime.timeline({autoplay: false});

            /*********************************************************/
            /* 花火のタイムライン */
                Fireworks
                    /* 花火 */
                        .add({
                            targets: ".fworkcircle",
                            translateX:[
                                {
                                    value: function(elm,index, ln){
                                        return anime.random(-600,600);
                                    },
                                    duration: 1500,
                                    delay:0,
                                    easing: "easeOutExpo",
                                }
                            ],
                            translateY:[
                                {
                                    value: function(elm,index, ln){
                                        return anime.random(-450,450);
                                    },
                                    duration: 1500,
                                    delay:0,
                                    easing: "easeOutExpo",
                                }
                            ], 
                            scale:[
                              { value: function(elm,index, ln){
                                    return anime.random(1.2, 1.8);
                                },
                                duration:function(elm,index, ln){
                                    return 300;
                                }, 
                                delay: 0,
                                easing: 'easeOutExpo',
                              },
                              {
                                value: 0,
                                duration: 700,
                                delay: 0,
                                easing: "easeOutQuad",
                              }
                            ],
                            offset: 0,                           
                        })
                    /*******************************/
                    /* 波紋 */
                        .add({
                            targets: "#fring1",
                            scale: [1.1, 10],
                            duration: 1000,
                            easing: "easeOutExpo",
                            offset: 0
                        })
                        .add({
                            targets: "#fring2",
                            scale: [1.0, 9.9],
                            duration: 1000,
                            easing: "easeOutExpo",
                            offset: 0
                        })
                        .add({                            
                            targets: "#fring1",
                            opacity: [1,0],
                            duration: 1000,
                            easing: "easeOutExpo",
                            offset: 100
                        })
                        .add({
                            targets: "#fring2",
                            opacity: [1,0],
                            duration: 1000,
                            easing: "easeOutExpo",
                            offset: 1000
                        })
                    /**********************************/
                    /* テキスト隠し */
                        .add({
                            targets: ".TextLine",
                            translateX:[
                                { value: [-700, 1024], duration: 3700, delay:0, elasticity:0, easing: "easeOutExpo"},
                            ],
                            scaleX:[
                                { value: 10, duration: 150, delay:50, easing: "easeOutExpo"},
                                { value: 1, duration: 700, delay: 240, elasticity: 0}
                            ],
                            offset: 2000
                        })
                    /***********************************/
                    /* しずく */
                        .add({
                            targets: "#drop1",
                            scale: [0,1],
                            duration: 200,
                            elasticity: 0,
                            offset: 200
                        })
                        .add({
                            targets: "#drop1",
                            translateY:[
                                { value: 1000, duration: 1700, elasticity: 0, easing: "easeInBack"}
                            ],
                            scaleY:[
                                { value: 1.5, duration: 100, elasticity: 0, delay: 0, easing: "easeOutExpo"},
                                { value: 1, duration: 500, elasticity: 10, },
                                { value: 1.5, duration: 1000, elasticity: 0, delay: 400, easing: "easeOutExpo"}
                            ],
                            offset: 300
                        })
                        .add({
                            targets: "#drop2",
                            translateY:[
                                { value: [600,0], duration: 1000, elasticity:0, easing:"easeOutCirc"}
                            ],
                            scaleY:[
                                { value: 1.5, duration: 100, elasticity:0, delay: 0, easing: "easeOutExpo"},
                                { value: 1, duration: 500, elasticity: 0, delay: 0}
                            ],
                            offset: 2000
                        })
                    /**********************************/

            /*******************************************************/
            /* 間奏アニメーション */
                AnimeTimeLine
                    /* 中心の円 */
                        .add({
                            targets: ".centercircle1",
                            scale: [
                                { value: [0,3],   duration: 300,  delay: 10, elasticity: 0,},
                                { value: 2.5, duration: 1000, delay: 0,  elasticity: 0},
                                { value: 15,  duration: 500,  delay: 0,  easing: "easeInBack"},
                                { value: 100, duration: 1500, delay: 0,  easing: "easeOutExpo"}
                            ],
                            offset: firetime
                        })
                    /* 中心の円から出てくるライン */
                        .add({
                            targets: ".line1",
                            scaleX: [
                                { value: [0,10], duration: 500, delay: 10, elasticity: 0,}
                            ],
                            scaleY: [
                                { value: 0, duration: 100, delay: 300, easing: "linear",}
                            ],  
                        
                            translateX: [
                                { value: -8, duration: 1000, delay: 80, elasticity: 0,}
                            ],
                            offset: firetime
                        })
                        .add({
                            targets: ".line2",
                            scaleX: [
                                { value: [0,10], duration: 500, delay: 10, elasticity: 0,},
                            ],
                            scaleY: [
                                { value: 0, duration: 100, delay: 300, easing: "linear",}
                            ],  
                            translateX: [
                                { value: 8, duration: 1000, delay: 80, elasticity: 0,}
                            ],
                            offset: firetime
                        })
                    /* 三角形 */
                    /* 水色 左 */                    
                        .add({
                            targets: ".triangle1",
                            scale: [
                                { value: [0,1], dulation: 1000, delay: 0,},
                            ],
                            rotate: [
                                { value: 180, dulation: 100, delay: 600, elasticity: 0}
                            ],
                            offset: firetime + 200
                        })
                    
                    /* 黄色 右 */                    
                        .add({
                            targets: ".triangle2",
                            scale: [
                                { value: [0,1], dulation: 1000, delay: 0,},
                            ],
                            rotate: [
                                { value: [180,360], dulation: 100, delay: 600, elasticity: 0}
                            ],
                            offset: firetime + 200  
                        })
                    /* パスアニメーション */
                        .add({
                            targets:"#upcircle",
                            strokeDashoffset:[
                                anime.setDashoffset, 2356
                            ],
                            //opacity:[1,0],
                            easing:'linear',
                            autoplay:true,
                            duration:500,
                            delay:0,
                            loop:false,
                            offset: firetime + 880
                        })
                        .add({
                            targets:"#downcircle",
                            strokeDashoffset:[
                                anime.setDashoffset, 2356
                            ],
                            //opacity:[1,0],
                            easing:'linear',
                            autoplay:true,
                            duration:500,
                            delay:0,
                            loop:false,
                            offset: firetime + 880
                        })
                    /* 中心の円 */
                        .add({
                            targets: ".centercircle2",
                            scale: [
                                { value: [0,6], dulation: 3000, delay: 0,},
                                { value: 35,     duration: 500,  delay: 800, easing: "easeInBack"},
                                { value: 500,    duration: 1500, delay: 0,   easing: "easeOutExpo"}
                            ],
                            offset: firetime + 700
                        })
                    /* サイドのライン */
                        .add({
                            targets: [".sideline1", ".sideline2"],
                            translateY:[
                                { value: 650, duration: 1000, delay: 0, elasticity: 0, easing: "easeOutExpo",}
                            ],
                            offset: firetime + 700
                        })

            /*******************************************************/

            /* イニシャライズ */
                function initialize(){
                    /* bodyにreadyクラスを追加する */
                    document.body.classList.add("ready");

                    /* テキストの準備 */
                    spanningFunc(".animeText1");
                    spanningFunc(".animeText2");

                    /* アニメーションの再生 */
                    Fireworks.play();
                    AnimeTimeLine.play();

                /****************************************************/
                /* テキストアニメーション */
                /* おめでとうございます */
                    var TextAnime1 = anime({
                        targets:"#Text1 .anime",
                        translateY:[
                            { 
                              value:[200,0],
                              duration:1000,
                              delay:function(elm,index, ln){
                                    var time = 200;
                                    var cooltime = 50;
                                    return time + index*cooltime;
                                }
                            }
                        ],
                        opacity:[
                            { 
                              value: [0,1], 
                              duration:1000,
                              delay:function(elm,index, ln){
                                    var time = 200;
                                    var cooltime = 50;
                                    return time + index*cooltime;
                                }
                            },
                            { 
                              value: 0,
                              duration:100,
                              delay:function(elm,index, ln){
                                    var time = 785;
                                    var cooltime = 1;
                                    return time + index*cooltime;
                                }
                            }
                        ],
                    });

                /* メダルをゲットしました */
                    var TextAnime2 = anime({
                        targets:"#Text2 .anime",
                        translateY: [200,0],
                        duration: 1000,
                        opacity: [0,1],
                        delay:function(elm,index, ln){
                                    var time = 6000;
                                    var cooltime = 50;
                                    return time + index*cooltime;
                                }
                    });
                /********************************************************/

                /********************************************************/
                /* 文字列を分割し一文字ずつspanに放り込む関数 */
                    function spanningFunc (_target){
                        var elms = document.querySelectorAll(_target);
                        elms.forEach(function (elm){
                            var myText = elm.textContent;
                            elm.innerHTML = null;
                            myText.split('').forEach(function (c) {
                                if (c == ' '){
                                    elm.innerHTML += '<span class="anime fontmplus">&nbsp;</span>';
                                }else{
                                    elm.innerHTML += '<span class="anime fontmplus">'+c+'</span>';
                                }
                            });
                        });
                    }
                /********************************************************/

                }
                
                
                return {
                    init: initialize
                }
            })();
        /************************************************************/

        /************************************************************/
            //画面ロード時
            window.onload = function() {
                Animation.init();
            }

        /************************************************************/

        </script>
</body>
</html>